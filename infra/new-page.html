<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>New Page</title>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/@picocss/pico@2/css/pico.fluid.classless.min.css"
    />
  </head>
  <body>
    <h1>
      <img
        src="/img/logo.png"
        alt="Dendrite logo"
        style="height: 1em; vertical-align: middle; margin-right: 0.5em"
      />
      <a href="/">Dendrite</a>
    </h1>
    <h2>New page</h2>
    <form
      action="https://europe-west1-irien-465710.cloudfunctions.net/prod-submit-new-page"
      method="post"
      enctype="application/x-www-form-urlencoded"
    >
      <input type="hidden" name="incoming_option" />
      <div>
        <label>Content <textarea name="content"></textarea></label>
      </div>
      <div>
        <label>Author <input type="text" name="author" /></label>
      </div>
      <div>
        <label>Option 1 <input type="text" name="option0" /></label>
      </div>
      <div>
        <label>Option 2 <input type="text" name="option1" /></label>
      </div>
      <div>
        <label>Option 3 <input type="text" name="option2" /></label>
      </div>
      <div>
        <label>Option 4 <input type="text" name="option3" /></label>
      </div>
      <div>
        <button type="submit">Submit</button>
      </div>
    </form>
    <script>
      document.addEventListener('DOMContentLoaded', () => {
        const params = new URLSearchParams(window.location.search);
        const incoming = params.get('option');
        if (incoming) {
          const input = document.querySelector('input[name="incoming_option"]');
          if (input) {
            input.value = incoming;
          }
        }
      });
    </script>
  </body>
</html>
