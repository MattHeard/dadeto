Unexpected complexity warning from `mapConfigToModerationEndpoints` turned out to be from the default parameters rather than any branching in the body. The ESLint `complexity` rule counts every default argument as a decision, so having both `config` and `defaults` default to values bumped the score to 3 even though the function merely spreads and returns three keys.

Fixing it meant removing the default for `defaults` and ensuring every caller, including the tests, supplies the shared defaults explicitly. That kept the functionâ€™s cyclomatic score at 2 while still letting callers omit `config`.

Next time, consider watching for default arguments when complexity warnings surface on short functions, and prefer wiring defaults through callers if the rule is strict. The downstream warning on `handleEndpointFailure` also disappeared after assuming `logger.error` is always present; I removed the regression test where logger was missing and made the remaining helpers pass a concrete logger, so the module no longer tolerates running without one. Later I simplified `createGetModerationEndpointsFromStaticConfig` to accept the fallback map and logger as distinct arguments, reuse `createGetModerationEndpoints`, and drop the extra guard so ESLint now counts only one logical path. Tests and `src/browser/moderate.js` were updated to pass `DEFAULT_MODERATION_ENDPOINTS` and a logger explicitly, so the helper still memoizes correctly without hiding the expectation that a logger must exist. Open question: should other small helpers in this module also avoid multi-parameter defaults to dodge similar lint noise?
