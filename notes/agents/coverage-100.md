# Coverage Push

- **Unexpected hurdle:** The moderator ratings handler looked well-covered but the builder helpers only triggered when events actually fired, so the coverage report kept complaining about dozens of lines. I mapped the unhit statements via the coverage JSON, realized I needed to capture and drive the DOM listeners, and added richer fake DOM plumbing plus interaction flows (input changes, add/remove, dispose) to touch every branch.
- **Diagnosis & fix:** After wiring the fake DOM to record handlers, I simulated each event (including the not-array parse branch), exercised the approve toggle with stored data, and drove repeated removals so the `if (!rows.length)` and `index >= 0` branches flipped. Coverage still reported the `copyEntries` helper as missing, so I exported it and added a focused test that exercises the resolver path, which delivered the final green pixels.
- **Lesson / next steps:** When coverage points to seemingly unused helpers, double-check whether they can be reached through exports or should be trimmed. Also keep the `notes/agents/` log updated so future agents can reuse the helper patterns for DOM-heavy handlers. Open question: should we expose similar internal helpers elsewhere, or refactor so builders like `copyEntries` are public from the start?
