## Modalities that tripped up the toy work
- **Unexpected:** The repo-wide `complexity: [2]` lint rule flagged every helper that had more than two decision points, so my first draft of `moderatorRatingCounts`, `parseRatings`, and the validation helpers all triggered warnings even though they felt straightforward. I ended up pulling the logic into minimal helpers (`ensureArray`, `getValidRatings`, `incrementCount`, `hasValidShape`, `hasValidTypes`) and leaning on `Array.every` so each exported function stayed under the two-branch limit.
- **Diagnosis:** Once those helpers were introduced, the warnings disappeared and the function signatures stayed readable. The same constraint also pushed me to avoid ternaries (`no-ternary` was enabled) and to keep the core loop very small, which meant extracting every little branch into its own helper rather than stacking them in one place.
- **Lessons learned:** When I need to add another toy, I’ll plan for the lint guardrails up front—prefer pipelines of single-return helpers over monolithic loops, and lean on utility helpers for presence/type checks so a single function isn’t juggling more than two guard clauses. Capturing the compliance tweaks here gives future agents a checklist to refer to.
- **Open questions:** Should we add a short mention of this validation logic to the toy’s documentation (e.g., README or AGENTS) so contributors know about the strict schema and lint expectations before touching it? Also, if future toys need more than two branches, maybe the lint rule ought to be relaxed or exceptions added in the config.
